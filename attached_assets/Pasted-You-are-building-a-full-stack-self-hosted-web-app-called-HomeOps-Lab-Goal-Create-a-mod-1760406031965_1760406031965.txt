You are building a full-stack, self-hosted web app called **HomeOps Lab**.

**Goal:**  
Create a modern, user-friendly platform that combines network/service discovery, infrastructure diagramming, and basic monitoring â€” built specifically for home lab and self-hosting enthusiasts.

---

## ğŸ¯ Overview

HomeOps Lab is part diagramming tool, part monitoring dashboard.  
It lets users **visualize their network**, **document servers and services**, and **monitor their home lab** â€” all in one clean, interactive web app.

---

## âš™ï¸ Core Features

### ğŸ—ºï¸ 1. Interactive Diagram Canvas
- Drag-and-drop canvas (like draw.io or diagrams.net) to map:
  - Servers, clients, containers, switches, routers, VMs, and services.
- Connect nodes with visual links to represent network or logical relationships.
- Click any node to open a details sidebar.

### ğŸ–¥ï¸ 2. Node Details & Metadata
Each node (or â€œhostâ€) can have:
- Name, description, IP, OS type (Proxmox, Ubuntu Server, Windows Server, TrueNAS, Unraid, etc.)
- Tags (e.g., â€œvirtualâ€, â€œcontainerâ€, â€œNASâ€)
- Links to service URLs (e.g., https://plex.local, https://proxmox.local)
- Custom fields (CPU, RAM, storage, uptime)

### ğŸŒ 3. Service Discovery (optional)
- Backend scans the network via ARP + ICMP + mDNS/UPnP.
- Detects live hosts and services.
- Suggests nodes to add or merge with existing ones.
- Uses safe, configurable discovery interval.

### ğŸ“ˆ 4. Monitoring & Health View
- Each node can have a heartbeat check (ping or HTTP).
- Basic metrics (uptime %, last seen, response time).
- Optional agent integration (future feature).

### ğŸ§© 5. Data Management
- All data stored in local database (SQLite or PostgreSQL via Supabase).
- Export/import topology as JSON or YAML.
- Optional Git sync for versioned backups.

### ğŸ‘¥ 6. UI/UX
- Built with modern UI libraries (React + Tailwind + D3.js or React Flow).
- Dark theme by default, polished and responsive.
- Sidebar for node info and logs.
- Global search bar (Cmd+K) for quick navigation.

### ğŸ³ 7. Deployment
- Fully Dockerized setup:
  - homeops-web (frontend)
  - homeops-api (backend)
  - homeops-db (Postgres)
  - Optional homeops-agent (lightweight network scanner)
- Runs locally or on a small home server.

---

## ğŸ§± Tech Stack

Frontend:
- React + TypeScript  
- Vite + Tailwind CSS  
- React Flow or D3.js for topology visualization  
- Zustand or Redux for state management  
- Axios for API calls  

Backend:
- Python (FastAPI) or Node.js (Express) â€” developerâ€™s choice  
- RESTful endpoints for nodes, services, monitoring, discovery  
- Async background jobs for scanning (Celery + Redis or simple background threads)  
- SQLAlchemy or Prisma ORM  
- JWT-based auth (local users, no external login required)

Database:
- PostgreSQL (recommended)  
- Optional: SQLite fallback for single-user setups  

Deployment & DevOps:
- Docker Compose setup for all services  
- .env configuration for secrets, DB, and scan intervals  
- Optional Supabase integration for cloud sync  

---

## ğŸ“¦ Project Structure

homeops-lab/
 â”œâ”€â”€ backend/
 â”‚   â”œâ”€â”€ main.py (FastAPI)
 â”‚   â”œâ”€â”€ models/
 â”‚   â”œâ”€â”€ routes/
 â”‚   â”œâ”€â”€ services/
 â”‚   â””â”€â”€ utils/
 â”œâ”€â”€ frontend/
 â”‚   â”œâ”€â”€ src/
 â”‚   â”‚   â”œâ”€â”€ components/
 â”‚   â”‚   â”œâ”€â”€ pages/
 â”‚   â”‚   â”œâ”€â”€ store/
 â”‚   â”‚   â””â”€â”€ api/
 â”‚   â””â”€â”€ index.html
 â”œâ”€â”€ docker-compose.yml
 â”œâ”€â”€ .env.example
 â”œâ”€â”€ README.md
 â””â”€â”€ scripts/
     â””â”€â”€ network_scan.py

---

## ğŸ§­ Initial User Flow

1. User opens the app â†’ Sees an empty canvas (â€œYour Labâ€).
2. Click Discover â†’ Network scan runs â†’ Detected hosts appear as suggested nodes.
3. User drags/arranges nodes, adds details, links, and service URLs.
4. Health checks run in the background.
5. Dashboard view shows uptime, map, and quick access to service URLs.

---

## ğŸ’¡ Design Goals
- Simple enough for hobbyists.
- Visual and tactile like a whiteboard.
- Private: all local by default.
- Fast setup with Docker Compose (docker compose up -d).

---

## ğŸ§° Optional Enhancements (future-ready)
- Add lightweight agent for distributed scanning.
- Integrate Grafana-like charts (CPU, RAM, uptime).
- Support MQTT/Home Assistant bridge.
- Add collaboration mode for multiple users.

---

## ğŸ“£ Branding & Identity
- App Name: HomeOps Lab
- Tagline: â€œYour home lab, visualized and monitored.â€
- Theme: Dark mode, teal + orange accents.
- Logo: Stylized â€œHâ€ with node links and pulse dot.

---

## âœ… Deliverable
Generate the full initial codebase for HomeOps Lab with:
- Working frontend scaffold (React + Tailwind)
- Working backend scaffold (FastAPI or Express)
- Shared Docker Compose + environment config
- Example API route (/api/nodes)
- Example frontend page showing dummy node graph with sample data
- README with setup instructions

Once the app scaffolding is complete, ensure that:
- I can docker compose up -d to run everything locally.
- Frontend auto-connects to backend via environment variable.
- README includes how to add nodes manually via the web UI.
